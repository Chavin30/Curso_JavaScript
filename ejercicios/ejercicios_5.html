<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        // 15) Programa una función para convertir números de base binaria a decimal y viceversa, pe. miFuncion(100,2) devolverá 4 base 10.
        let convertirNumeros = (numero=undefined,base=undefined) => {
            if(typeof numero !== 'number' || typeof base !=='number' || numero === undefined || base ===undefined) return 'Tipo de datos incrrectos'
            if(base !== 10 && base !== 2) return 'Bases incorrectas'
            if(base===2){
                let res=[];
                while((numero/2)>0){
                    res.push(numero%2 === 0 ? '0':'1')
                    numero = Math.floor(numero/2)
                }
                return res.reverse().join('');
            }
            else{
                let res=null;
                arr = numero.toString().split('').reverse();
                for (let i = 0; i < arr.length; i++) {
                    res+=(parseInt(arr[i])*Math.pow(2,(i)))
                }
                return res;
            }

            //formulas para realizarr esto sin bucles
            // parseInt(numero,base) convertir a numero con base 10
            // numero.toString(base) convertir numero a binario
        }
        console.log(convertirNumeros(101101111011111,10))
        // 16) Programa una función que devuelva el monto final después de aplicar un descuento a una cantidad dada, pe. miFuncion(1000, 20) devolverá 800.
        let montoFinal = (monto= undefined,descuento=undefined) => {
            if(typeof monto !== "number" || monto===undefined || typeof descuento===undefined) return 'Datos invaludos'
            if(descuento>100 || descuento<0) return 'Datos invalidos'
            return (monto - (monto * descuento)/100).toFixed(2)
        }
       // Math.sign === - validacion para numeros negativos

        console.log(montoFinal(1000,9))
        // 17) Programa una función que dada una fecha válida determine cuantos años han pasado hasta el día de hoy, pe. miFuncion(new Date(1984,4,23)) devolverá 35 años (en 2020).
        const calcularAnios = (fecha=undefined) =>{
            if(fecha === undefined) return console.warn('No ingresaste la fecha')
            if(!(fecha instanceof Date)) return console.warn('No es una fecha')
            
            let hoyMenosFecha = new Date().getTime() - fecha.getTime(),
                aniosEnMS =  1000*60*60*24*365.25
                aniosHumanos = Math.floor(hoyMenosFecha/aniosEnMS);
                console.log(Math.sign(aniosHumanos))

            return Math.sign(aniosHumanos) === -1
                ?  console.info(`Faltan ${Math.abs(aniosHumanos)} años para el ${fecha.getFullYear()}`)
                :  Math.sign(aniosHumanos) === 1 
                    ? console.info(`Han pasado ${aniosHumanos} años, desde ${fecha.getFullYear()}`)  
                    : console.info(`Estamos en el año acual ${fecha.getFullYear()}`)
        }

        calcularAnios(new Date(1350,2,15))
        
    </script>
</body>
</html>